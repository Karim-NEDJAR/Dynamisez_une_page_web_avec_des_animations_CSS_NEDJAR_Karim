/************************ LA PAGE D'ACCUEIL *******************/

/********************* section presentation / réservation **************/
.pres {
    width: 100%;
    background-color: $bg-pres;
    display: flex;
    flex-flow: column nowrap;
    justify-content: flex-start;
    align-items: center;

    &__ville {
        width: 100%;
        height: calc(50/12)*1rem;
        background: linear-gradient(rgba(207, 207, 207, 1) 0%, rgba(234, 234, 234, 1) 12%);
        display: flex;
        flex-flow: row nowrap;
        justify-content: center;
        align-items: center;
        padding-bottom: 0.3rem;

        &>i {
            font-size: 1.4rem;
            height: 1.4rem;
            display: inline-block;
            width: 2.3rem;
            padding-right: 0.5rem;
            text-align: right;
        }

        &>span {
            font-size: 1.4rem;
            height: 1.4rem;
            display: inline-block;
            width: 13rem;
            padding-left: 0.7rem;
            text-align: left;
        }

    }


    &__titre {
        width: 100%;
        height: calc(50/12)*1rem;
        font-size: calc(22/12)*1rem;
        font-weight: bolder;
        text-align: center;
        padding-right: calc(52/12)*1rem;
        padding-left: calc(38/12)*1rem;
        font-stretch: ultra-expanded;
        letter-spacing: calc(1.2/12)*1rem;
        line-height: 1.25;
        margin: calc(39/12)*1rem 0 0 0;

    }

    &__soustitre {
        width: 100%;
        height: calc(64/12)*1rem;
        font-size: calc(18/12)*1rem;
        font-weight: normal;
        color: $c-soustitre;
        text-align: center;
        margin: calc(18/12)*1rem 0 0 0;
        padding-left: calc(12/12)*1rem;
    }

    &__btn {
        @include basic-btn (218, 50, 12);
        padding-left: calc(4/12)*1rem;
        background: linear-gradient(170deg, $secondaire, $primaire);
        box-shadow: 0 calc(6/12)*1rem calc(6/12)*1rem $c-btn-shadow;
        margin-top: calc(8/12)*1rem;
        margin-bottom: calc(56/12)*1rem;
        margin-left: calc(5/12)*1rem;

        &>a {
            cursor: pointer;
            color: #fff;

            &>p {

                font-size: calc(16/12)*1rem;
            }
        }

        &:hover {
            background: linear-gradient(170deg, lighten($secondaire, 4%), lighten($primaire, 4%));
            box-shadow: 0 calc(6/12)*1rem calc(6/12)*1rem darken($c-btn-shadow, 15%);
        }
    }
}


/************************** section fonctionnement *******************/
.fonc {
    width: 100%;

    @include tablette {
        width: 50%;
        margin-top: 0;
        padding-top: calc(10/12)*1rem;
    }

    @include ordinateur {
        width: 50%;
        margin-top: 0;
        padding-top: calc(10/12)*1rem;
    }


    background-color: $bg-fonc;
    padding: 0 calc(20/12)*1rem 0 calc(32/12)*1rem;

    &__titre {
        width: 100%;
        height: calc(70/12)*1rem;
        margin: calc(22/12)*1rem 0 calc(8/12)*1rem 0;
        padding-top: calc(10/12)*1rem;
        position: relative;
        left: calc(-12/12)*1rem;
        display: flex;
        flex-flow: row nowrap;
        justify-content: flex-start;
        align-items: center;

        @include tablette {
            padding-top: calc(24/12)*1rem;
        }

        @include ordinateur {
            padding-top: calc(24/12)*1rem;
        }


        &--size {
            font-size: calc(24/12)*1rem;
            margin: 0;
            font-weight: bold;
        }
    }

    @for $i from 1 through 3 {
        &__carte#{$i} {
            width: 100%;
            height: calc(78/12)*1rem;
            padding-top: calc(12/12)*1rem;
            background: linear-gradient(#fefefe 0%, $bg-card-fonc 8%);
            margin-bottom: calc(20/12)*1rem;

            @include tablette {

                margin-top: calc(200/12)*1rem;
            }

            @include ordinateur {

                margin-top: calc(200/12)*1rem;
            }

            display: flex;
            flex-flow: row nowrap;
            justify-content: flex-start;
            align-items: center;
            @include makeradius ("all", 19.5);
            box-shadow: 0 calc(8/12)*1rem calc(8/12)*1rem $c-carte-shadow;

            &:hover {
                background: $bg-card-fonc-hover;

                & span:nth-child(2) {
                    color: $c-ico-hover;
                }
            }

            & span:nth-child(1) {
                display: inline-block;
                position: relative;
                left: calc(-12/12)*1rem;

            }

            & span:nth-child(2) {
                display: inline-block;
                margin-left: calc(10/12)*1rem;
                font-size: calc(16/12)*1rem;
                color: $c-fonc-ico;

            }

            & span:nth-child(3) {
                display: inline-block;
                margin-left: calc(20/12)*1rem;
                font-size: calc(16/12)*1rem;
                font-weight: bold;
            }
        }
    }
}


/***********************section restaurants ***********************/
.resto {
    width: 100%;

    @include tablette {
        width: 50%;
        margin-top: 0;
    }

    @include ordinateur {
        width: 50%;
        margin-top: 0;
    }

    background-color: $bg-rest;
    padding: 0 calc((20 / 12)*1rem) calc((44 / 12)*1rem) calc((20 / 12)*1rem);
    margin-top: calc((66 / 12)*1rem);


    &__titre {
        width: 100%;
        height: calc(72 /12)*1rem;
        padding-top: calc(66 / 12)*1rem;
        margin-bottom: calc(34 / 12)*1rem;
        font-size: calc(24 / 12)*1rem;
        display: flex;
        align-items: center;
        font-weight: bold;
    }

    @for $i from 1 through 4 {

        &#{$i} {
            width: 100%;
            height: calc(251/12)*1rem;
            margin-bottom: calc((18/12)*1rem);

            &__photo {
                width: 100%;
                height: calc(174/2.51)*1%;
                position: relative;

                &--illustration {
                    width: 100%;
                    height: 100%;
                    overflow: hidden;

                    & img {
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                        @include makeradius ("top", 13);
                        object-position: bottom;

                        @if ($i ==2) {
                            object-position: 50% 61%;
                        }
                    }
                }

                &--message {
                    width: calc(79/12)*1rem;
                    height: calc(29/12)*1rem;
                    color: $tertiaire-sombre;
                    background-color: $tertiaire ;
                    font-weight: bold;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    font-size: calc(14/12)*1rem;

                    @if (($i ==1) or ($i ==2)) {
                        visibility: visible;
                        z-index: 2;
                    }

                    @else {
                        visibility: hidden;
                        z-index: -1;
                    }

                    position: absolute;
                    top: calc(13/12)*1rem;
                    right: calc(13/12)*1rem;
                }
            }

            &__infos {
                width: 100%;
                height: calc(77/2.51)*1%;
                position: relative;
                background-color: #fff;
                display: flex;
                flex-flow: column nowrap;
                justify-content: flex-start;
                align-items: flex-start;
                overflow: hidden;
                margin: 0;
                padding-left: calc(10/12)*1rem;
                @include makeradius ("bottom", 13);

                &--nom {
                    width: calc(248/12)*1rem;
                    height: calc(77/24)*1rem;
                    font-size: calc(18/12)*1rem;
                    font-weight: bolder; //
                    margin: 0;
                    display: flex;
                    align-items: flex-end;

                }

                &--localisation {
                    width: calc(248/12)*1rem;
                    height: calc(77/24)*1rem;
                    font-size: calc(17/12)*1rem;
                    font-weight: normal;
                    margin: 0;
                    padding-top: calc(5/12)*1rem;
                }

                &--jaime {
                    width: calc(77/12)*1rem;
                    height: calc(77/12)*1rem;
                    padding-left: calc(6/12)*1rem;
                    padding-bottom: calc(13/12)*1rem;
                    position: absolute;
                    top: 0;
                    right: 0;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    margin: 0;
                    font-size: calc(24/12)*1rem;

                    &>i {
                        color: #fff;
                        -webkit-text-stroke: 1px black;

                        &:hover {
                            -webkit-text-stroke: 0px;
                            background: linear-gradient(200deg, $primaire 0%, $secondaire 100%);
                            background-clip: text;
                            -webkit-background-clip: text;
                            color: transparent;
                            transition: color 500ms ease-in-out;
                        }
                    }
                }
            }
        }
    }
}


/*** LES 4 PAGES DES MENUS DES RESTAURANTS ***/
//  les listes utilisées ici  se trouvent dans le fichier des variables
.restaurant {
    width: 100%;
    margin: 0;
    background: $bg-rest;
    /*même background que <menu> pour cacher le blanc apparu, 
    car <menu>  étant  remonté de 38px (top:-38px)  il a laissé  apparaître 38px de blanc
     du  background  de  <restaurant> sous <menu>, voir ci-dessous le padding-bottom de <menu>. Solution pas très élégante,
     mais les autres solutions pour compenser ce blanc me paraissaient lourdes */

    & .devanture {
        width: 100%;
        height: calc(258/12)*1rem;
        margin: 0;
        overflow: hidden;

        &>img {
            width: 100%;
            height: 105%;
            object-fit: cover;
        }
    }


    & .menu {
        width: 100%;
        padding-bottom: calc(20/12)*1rem;
        /*padding-bottom de 20px calculé pour compenser partiellement 
        le décalage top  (apparition d'un blanc),  
        l'autre partie est masquée 
        par le background de <restaurant> qui est 
        identique à celui de <menu> */
        position: relative;
        top: calc(-38/12)*1rem;
        background: $bg-rest; 
        margin: 0;
        padding-top: calc(14/12)*1rem;
        padding-left: calc(14/12)*1rem;
        padding-right: calc(12/12)*1rem;
        @include makeradius ("top", 38);

        @include tablette {
            display: flex;
            flex-flow: row wrap;
            justify-content: space-between;
        }

        @include ordinateur {
            display: flex;
            flex-flow: row wrap;
            justify-content: space-between;
        }



        &__resto {
            width: 100%;
            height: calc(58/12)*1rem;
            background-color: white;
            padding-right: calc(24/12)*1rem;
            margin-top: calc(18/12)*1rem;
            margin-bottom: calc(12/12)*1rem;
            display: flex;
            flex-flow: row nowrap;
            justify-content: space-between;
            align-items: center;
            background: $bg-rest; 
            @include makeradius ("top", 29);
            padding-bottom: calc(18/12)*1rem;

            &--nom {
                color: #101010;
                font-size: calc(28/12)*1rem;
                font-weight: normal;
                padding-left: calc(7/12)*1rem;
                margin-top: calc(18/12)*1rem;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            &--jaime {
                position: relative;
                padding-bottom: calc(4/12)*1rem;
                padding-right: calc(3/12)*1rem;


                & .fa-heart {
                    font-size: calc(22/12)*1rem;
                }

                & .fa-solid {
                    display: inline-block;
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    right: 0;
                    left: 0;
                    opacity: 0;
                    background: linear-gradient(200deg, $primaire 0%, $secondaire 100%);
                    background-clip: text;
                    -webkit-background-clip: text;
                    color: transparent;
                    transition: opacity 333ms ease-in;

                    &:hover {
                        opacity: 1;
                        filter: contrast(1.3);
                    }
                }
            }
        }

        /** boucle sur les services, voir la liste $services dans le fichier des variables*/

        @for $k from 1 through 3 {

            &__#{nth($services,$k)} {
                width: 100%;
                margin-bottom: calc(36/12)*1rem;

                @include tablette {
                    width: 49%;
                    display: flex;
                    flex-flow: column nowrap;
                    justify-content: flex-start; 
                    align-items: flex-start;
                }

                @include ordinateur {
                    width: 49%;
                    display: flex;
                    flex-flow: column nowrap;
                    justify-content: flex-start; 
                    align-items: flex-start;
                }


                &__titre {
                    padding-left: calc(7/12)*1rem;
                    padding-bottom: calc(12/12)*1rem;
                    height: calc(40/12)*1rem;
                    color: #1f1f1f;
                    font-size: calc(16/12)*1rem;
                    font-weight: normal;
                    text-transform: uppercase;
                    font-weight: normal;
                    // animation optionnnelle sur les titres  (non spécifiée)
                    // en cas de suppression de cette animation, 
                    //supprimer également ci-dessous la déclaration: <opacity: 0;>
                    opacity: 0;
                   animation: apparition 700ms nth($delai-s, $k) linear forwards;

                    /*soulignement du titre  sur une longueur de 40px et une épaisseur de 3px  */
                    &::after {
                        content: "";
                        display: block;
                        width: calc(40/12)*1rem;
                        padding-top: calc(6/12)*1rem;
                        border-bottom: calc(3/12)*1rem solid $tertiaire;
                    }

                }


                @for $i from 1 through 4 {

                    /****** test d'entrée dans la boucle car  traitement spécial pour 
                        le restaurant << La note enchantée >> qui contrairement aux autres 
                        possède 4 entrées au lieu de 3   ***********/

                    @if ((($k ==1) and ($i ==4)) or ($i < 4)) {
                        &-#{$i} {

                            width: 100%;
                            height: calc(68/12)*1rem;
                            margin-bottom: calc(14/12)*1rem;
                            padding-left: calc(12/12)*1rem;
                            background-color: white;
                            @include makeradius ("all", 12);
                            display: flex;
                            flex-flow: row nowrap;
                            justify-content: space-between;
                            align-items: center;
                            overflow: hidden;
                            box-shadow: calc(7/12)*1rem calc(7/12)*1rem calc(12/12)*1rem #e8e8e8;
                            cursor: pointer;
                            opacity: 0;
                            $index: (($k - 1) * 3)+$i;
                            animation: apparition 700ms nth($delai-m, $index) ease-in-out forwards;

                            &__recette {
                                height: 100%;
                                width: 100%;
                                display: flex;
                                flex-flow: column nowrap;
                                justify-content: center;
                                align-items: flex-start;
                                overflow: hidden;
                                text-overflow: ellipsis;
                                white-space: nowrap;

                                &__nom {
                                    height: 50%;
                                    width: 100%;
                                    font-size: calc(18/12)*1rem;
                                    font-weight: bold;
                                    margin: 0;
                                    overflow: hidden;
                                    text-overflow: ellipsis;
                                    white-space: nowrap;
                                    padding-top: calc(14/12)*1rem;
                                }

                                &__detail {
                                    height: 50%;
                                    margin: 0;
                                    width: 100%;
                                    display: flex;
                                    flex-flow: row nowrap;
                                    justify-content: space-between;
                                    align-items: center;
                                    overflow: hidden;
                                    white-space: nowrap;
                                    padding-bottom: calc(6/12)*1rem;

                                    &--variante {
                                        display: inline-block;
                                        overflow: hidden;
                                        text-overflow: ellipsis;
                                        white-space: nowrap;
                                        font-size: calc(15/12)*1rem;
                                        color: #1f1f1f;
                                    }

                                    &--prix {
                                        width: calc(60/12)*1rem;
                                        height: 100%;
                                        display: inline-block;
                                        font-size: calc(14/12)*1rem;
                                        font-weight: bold;
                                        overflow: hidden;
                                        text-overflow: ellipsis;
                                        white-space: nowrap;
                                        padding-top: calc(7/12)*1rem;
                                        padding-bottom: calc(7/12)*1rem;
                                        padding-left: calc(12/12)*1rem;
                                        margin-right: 0;
                                        margin-left: auto;
                                        flex-shrink: 0;
                                    }
                                }
                            }

                            &__selectionner {
                                display: flex;
                                flex-flow: row nowrap;
                                justify-content: center;
                                align-items: center;
                                color: white;
                                @include makeradius ("right", 12);
                                background: $tertiaire;
                                width: calc(60/12)*1rem;
                                height: 100%;
                                overflow: hidden;
                                margin-right: calc(-60/12)*1rem;
                                flex-shrink: 0;
                                transition: margin-right 400ms linear;

                                &>i {
                                    font-size: calc(22/12)*1rem;
                                    font-weight: bold;
                                }
                            }

                            &:hover {

                                &>div+div {
                                    margin-right: 0;
                                    transition: margin-right 600ms linear;

                                    &>i {
                                        animation: rotation-coche 600ms linear;
                                    }
                                }
                            }
                        }

                        //fin des traitements dans la boucle interne $i 
                    }

                    // fin du TEST d'entrée dans la boucle  interne
                }

                // fin de la boucle FOR $i 
            }

            //fin des traitements dans la boucle externe  $k 
        }

        // fin de la boucle FOR $k 
    }

    // fin du bloc <.menu>
}

// fin du conteneur <.restaurant>


/************* le bouton pour valider la commande ********/
.commander-menu {
    @include btn-commander ();
    background: linear-gradient($secondaire, $primaire);
    box-shadow: 0 calc(6/12)*1rem calc(10/12)*1rem #bababa;
    margin-top: calc(46/12)*1rem;


    &:hover {
        background: linear-gradient(lighten($secondaire, 5%), lighten($primaire, 5%));
        box-shadow: 0 calc(6/12)*1rem calc(10/12)*1rem darken(#bababa, 10%);
    }

}


/********* rotation de la coche ***********/

@keyframes rotation-coche {

    0% {
        transform: rotate(0deg);
    }

    50% {
        transform: rotate(90deg);
    }

    100% {
        transform: rotate(360deg);
    }

}


/************ apparition des menus *******/
@keyframes apparition {

    0% {
        transform-origin: bottom;
        transform: scaleY(0.8);
        opacity: 0.1;
    }

    70% {
        opacity: 0.2;
    }


    100% {
        transform-origin: bottom;
        transform: scaleY(1);
        opacity: 1;
    }
}

